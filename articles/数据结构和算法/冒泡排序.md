# 冒泡排序算法实现



## 引入

想象一下，在湖中有很多大小不一的气泡，它们在一个个往上面冒，根据物理研究，最大气泡
会在最上面，然后是第二大的气泡...这个过程就是冒泡排序的大概过程。

就是：重复比较相邻的两个元素，直到数组中的值全部比较完。


## 抽象

```js
    function bubble_sort(A)

    A：需要排序的数组
    返回：无
```


## 循环不变式

```
    外层循环不变式

    第 k 次循环执行后，前 k 大的值顺序排序在位置 i 。
    循环执行后， 位置 i 以及它右边的值处于排序的状态

    内层循环不变式

    每次循环结束时控制变量 j 指向 0-j 元素中最大的值
```


## 程序实现

```js
    function bubble_sort(A) {
        for(let i = A.length; i >= 1; i--) {
            // 循环结束A[i]-A[n-1]已排序
            for(let j = 1; j <= i; j++) {
                A[j - 1] > A[j] && swap(A, j - 1, j)
            }
        }
    }

    function swap(A, i, j) {
        const temp = A[i]
        A[i] = A[j]
        A[j] = t
    }

    const A = [5, 8, 1, 3, 2, 4, 6]
    bubble_sort(A)
    console.log(A) // [1, 2, 3, 4, 5, 6, 8]
```